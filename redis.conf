# redis.conf - Redis 服务器配置文件

# --- 基本配置 ---

# 监听端口
port 6379
# 默认端口是 6379。 如果您需要更改端口，可以在这里修改。

# 绑定地址
bind 127.0.0.1
# 默认只监听本地回环地址 (127.0.0.1)，只允许本地连接。
# 对于开发和测试环境，这通常是安全的。
# 如果您需要允许来自其他机器的连接，请修改为服务器的 IP 地址或 0.0.0.0 (监听所有地址)。
# **生产环境请谨慎配置 bind 地址，确保安全性。**

# 后台运行
daemonize no
# 默认 no，Redis 将在前台运行。
# 在开发和测试阶段，在前台运行方便查看日志和调试。
# 如果您需要在后台运行 Redis，请设置为 yes。
# **生产环境通常设置为 yes。**

# 日志文件
logfile "redis_server.log"
# 指定 Redis 服务器日志文件的路径。
# 默认情况下，日志会输出到标准输出 (stdout) 如果 daemonize 为 no，或者输出到 /dev/null 如果 daemonize 为 yes。
# 建议指定一个日志文件，方便查看 Redis 服务器的运行日志。

# 工作目录
dir ./
# Redis 服务器的工作目录。
# 默认是 Redis 服务器启动时所在的目录。
# RDB 持久化文件 (.rdb) 和 AOF 文件 (.aof) 将会保存在这个目录下。

# --- 持久化配置 (RDB 默认配置) ---

# RDB 持久化
save 900 1
save 300 10
save 60 10000
# 默认配置了三个 RDB 保存点：
# - 900 秒 (15 分钟) 内，如果至少有 1 个 key 发生变化，则保存 RDB 快照。
# - 300 秒 (5 分钟) 内，如果至少有 10 个 key 发生变化，则保存 RDB 快照。
# - 60 秒 (1 分钟) 内，如果至少有 10000 个 key 发生变化，则保存 RDB 快照。
# 您可以根据数据重要性和性能需求调整这些保存点。
# 如果您不需要 RDB 持久化，可以注释掉所有的 save 行。

# --- 安全性配置 (简单密码，仅用于开发测试) ---

# 密码认证
# requirepass your_redis_password
# 取消注释并设置您的 Redis 密码，以启用密码认证。
# **请将 "your_redis_password" 替换为您自己的密码。**
# 启用密码认证后，客户端连接 Redis 服务器时需要提供密码。
# **注意： 此处设置的密码只是一个简单的密码，仅适用于开发和测试环境。**
# **生产环境请使用更安全的认证和授权机制，并考虑网络安全措施。**

# --- 客户端连接配置 ---

# 最大客户端连接数
maxclients 10000
# 默认最大客户端连接数是 10000。
# 您可以根据您的应用需求调整最大连接数。
# 如果连接数超过 maxclients 限制，Redis 将拒绝新的连接请求。

# --- 内存管理配置 ---

# 最大内存限制 (可选)
# maxmemory <bytes>
# 如果您需要限制 Redis 使用的最大内存，可以取消注释并设置 maxmemory。
# 例如： maxmemory 1gb  限制最大内存为 1GB。
# 当 Redis 使用内存达到 maxmemory 限制时，会根据 maxmemory-policy 配置的策略进行内存淘汰。

# 内存淘汰策略 (可选，配合 maxmemory 使用)
# maxmemory-policy noeviction
# 默认内存淘汰策略是 noeviction，当内存达到限制时，Redis 将拒绝新的写入操作。
# 常用的内存淘汰策略包括：
# - noeviction:  不淘汰任何数据，内存达到限制时拒绝写入操作。
# - allkeys-lru:   淘汰最近最少使用的 key (所有 key 范围)。
# - volatile-lru:  淘汰最近最少使用的 key (仅限设置了过期时间的 key)。
# - allkeys-random: 随机淘汰 key (所有 key 范围)。
# - volatile-random: 随机淘汰 key (仅限设置了过期时间的 key)。
# - volatile-ttl:  淘汰 TTL 值 (剩余生存时间) 最短的 key (仅限设置了过期时间的 key)。
# 您可以根据您的应用场景选择合适的内存淘汰策略。

# --- 其他配置 (可选) ---

# ... 您可以根据 Redis 官方文档添加更多配置选项 ...

# --- 注意事项 ---
# - 此配置文件是一个基本的示例，适用于开发和测试环境。
# - **生产环境请务必根据您的实际需求，仔细配置 Redis 服务器，并考虑安全性、性能、持久化、高可用性等因素。**
# - 详细的 Redis 配置选项请参考 Redis 官方文档： https://redis.io/docs/